#INCLUDE <P16F628A.INC>
    
ESTADO1	EQU 0x20
ESTADO2	EQU 0x21

ORG 0
  GOTO  INICIO
ORG  4
  RETFIE
  
INICIO:
    BANKSEL TRISA
    CLRF    TRISA
    
    MOVLW   0xFF
    MOVWF   TRISB
    
    BANKSEL ESTADO1
    MOVLW   b'00001010'
    MOVWF   ESTADO1
    
    BANKSEL ESTADO2
    MOVLW   b'00000101'
    MOVWF   ESTADO2
    
MAIN:
   
    BANKSEL PORTB
    MOVF    PORTB, W
    
    BANKSEL ESTADO1
    SUBWF   ESTADO1, W
    
    BANKSEL PORTA
    BTFSC   STATUS, Z
    BSF	    PORTA, 0
    
    BANKSEL PORTB
    MOVF    PORTB, W
    
    BANKSEL ESTADO2
    SUBWF   ESTADO2, W
    
    BANKSEL PORTA
    BTFSC   STATUS, Z
    BSF	    PORTA, 0
    
    BTFSS   STATUS, Z
    BCF	    PORTA, 0
    
    
    
    
    
    GOTO MAIN
    
    
END
    
